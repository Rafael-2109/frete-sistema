{
  "name": "conta_corrente_transportadoras",
  "description": "Conta corrente com transportadoras. Saldo = SUM(valor_credito) - SUM(valor_debito). tipo_movimentacao: CREDITO, DEBITO, COMPENSACAO. status: ATIVO, COMPENSADO, DESCONSIDERADO. Cada registro vincula a um frete_id.",
  "fields": [
    {
      "name": "id",
      "type": "integer",
      "description": "Primary key"
    },
    {
      "name": "transportadora_id",
      "type": "integer",
      "description": "FK → transportadoras.id",
      "nullable": false
    },
    {
      "name": "frete_id",
      "type": "integer",
      "description": "FK → fretes.id",
      "nullable": false
    },
    {
      "name": "tipo_movimentacao",
      "type": "varchar(20)",
      "description": "CREDITO, DEBITO, COMPENSACAO",
      "nullable": false
    },
    {
      "name": "valor_diferenca",
      "type": "float",
      "description": "Diferença entre valor_pago e valor_considerado",
      "nullable": false
    },
    {
      "name": "valor_credito",
      "type": "float",
      "description": "Para créditos a favor da empresa",
      "default": 0
    },
    {
      "name": "valor_debito",
      "type": "float",
      "description": "Para débitos a favor da transportadora",
      "default": 0
    },
    {
      "name": "descricao",
      "type": "varchar(255)",
      "nullable": false
    },
    {
      "name": "observacoes",
      "type": "text"
    },
    {
      "name": "status",
      "type": "varchar(20)",
      "description": "ATIVO, COMPENSADO, DESCONSIDERADO",
      "default": "ATIVO"
    },
    {
      "name": "compensado_em",
      "type": "timestamp"
    },
    {
      "name": "compensado_por",
      "type": "varchar(100)"
    },
    {
      "name": "compensacao_frete_id",
      "type": "integer",
      "description": "Frete usado para compensação"
    },
    {
      "name": "criado_em",
      "type": "timestamp",
      "description": "Data de criação"
    },
    {
      "name": "criado_por",
      "type": "varchar(100)",
      "nullable": false
    }
  ],
  "foreign_keys": [
    {
      "column": "transportadora_id",
      "references": "transportadoras.id"
    },
    {
      "column": "frete_id",
      "references": "fretes.id"
    },
    {
      "column": "compensacao_frete_id",
      "references": "fretes.id"
    }
  ]
}