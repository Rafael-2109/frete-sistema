---
phase: 03-table-system
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - app/static/css/components/_tables.css
autonomous: true

must_haves:
  truths:
    - "Tables have horizontal scroll on mobile without cutting off content"
    - "Action buttons in table rows are never clipped on mobile"
    - "Scrollbar is visible when table overflows horizontally"
  artifacts:
    - path: "app/static/css/components/_tables.css"
      provides: "Base table component with responsive wrapper and action column protection"
      min_lines: 50
      contains: "@layer components"
  key_links:
    - from: "app/static/css/components/_tables.css"
      to: "Bootstrap .table-responsive"
      via: "CSS enhancement layer"
      pattern: "\\.table-responsive"
---

<objective>
Create the base table component CSS file with responsive wrapper enhancement and action column protection.

Purpose: Establish centralized table styling that provides horizontal scroll on mobile and protects action buttons from clipping. This addresses TABL-01 (horizontal scroll) and LAYO-01 (mobile responsiveness without content clipping).

Output: `app/static/css/components/_tables.css` with base table styling, responsive container enhancements, and action column protection.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-table-system/03-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create _tables.css with base table styling and responsive wrapper</name>
  <files>app/static/css/components/_tables.css</files>
  <action>
Create `_tables.css` in the components directory with:

1. **Layer wrapper**: Wrap all content in `@layer components { ... }`

2. **Base table variables** (CSS custom property API pattern from Phase 2):
```css
.table {
  --_table-bg: var(--bg-light);
  --_table-color: var(--text);
  --_table-border-color: var(--border);
}
```

3. **Responsive container enhancements**:
- `.table-responsive` with `overflow-x: auto` and `-webkit-overflow-scrolling: touch`
- Styled scrollbar for visibility (height: 6px, border-radius: 3px)
- Scrollbar uses design tokens: `var(--border)` for thumb, transparent track
- Hover state on scrollbar thumb: `var(--text-muted)`

4. **Action column protection**:
- `.table td.table-actions, .table th.table-actions` with `min-width: 100px` and `white-space: nowrap`
- `.table .btn-table-action` with compact padding (0.25rem 0.5rem), font-size 0.75rem
- Mobile breakpoint (max-width: 767.98px): min-width/height 44px for touch targets (WCAG 2.5.5)

Use the exact code patterns from 03-RESEARCH.md Example 1 (sections for TABLE BASE and RESPONSIVE CONTAINER) and Example 4 (Mobile-Friendly Action Buttons).

Do NOT include sticky headers or hover states - those go in Plan 03-02.
  </action>
  <verify>
1. File exists at `app/static/css/components/_tables.css`
2. File contains `@layer components`
3. File contains `.table-responsive` with scrollbar styling
4. File contains `.table-actions` with min-width
5. File contains mobile breakpoint with 44px touch targets
  </verify>
  <done>
_tables.css created with base table styling, responsive wrapper with visible scrollbar, and action column protection including mobile touch targets.
  </done>
</task>

</tasks>

<verification>
```bash
# Verify file exists and has correct structure
test -f app/static/css/components/_tables.css && echo "File exists"

# Verify layer wrapper
grep -q "@layer components" app/static/css/components/_tables.css && echo "Layer wrapper present"

# Verify responsive container
grep -q "\.table-responsive" app/static/css/components/_tables.css && echo "Responsive container present"

# Verify action column protection
grep -q "\.table-actions" app/static/css/components/_tables.css && echo "Action column protection present"

# Verify mobile breakpoint
grep -q "max-width: 767.98px" app/static/css/components/_tables.css && echo "Mobile breakpoint present"
```
</verification>

<success_criteria>
1. `app/static/css/components/_tables.css` exists with 50+ lines
2. All content wrapped in `@layer components`
3. Responsive container has horizontal scroll and styled scrollbar
4. Action columns protected with min-width and mobile touch targets
5. No sticky headers or hover states (deferred to Plan 03-02)
</success_criteria>

<output>
After completion, create `.planning/phases/03-table-system/03-01-SUMMARY.md`
</output>
