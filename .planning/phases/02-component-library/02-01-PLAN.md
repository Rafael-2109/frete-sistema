---
phase: 02-component-library
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - app/static/css/components/_buttons.css
  - app/static/css/main.css
autonomous: true

must_haves:
  truths:
    - "Primary button has amber background and dark text in both themes"
    - "Secondary button has theme-adaptive background with amber border on hover"
    - "Danger/Success buttons have semantic colors with white text"
    - "Button sizes (sm, md, lg) scale padding and font-size correctly"
    - "All buttons have visible focus states (amber outline)"
    - "Disabled buttons are visually distinct (opacity reduced)"
  artifacts:
    - path: "app/static/css/components/_buttons.css"
      provides: "Button component variants, sizes, and states"
      min_lines: 120
    - path: "app/static/css/main.css"
      provides: "Import statement for _buttons.css"
      contains: "@import url('./components/_buttons.css') layer(components)"
  key_links:
    - from: "app/static/css/main.css"
      to: "app/static/css/components/_buttons.css"
      via: "@import with layer(components)"
      pattern: "@import.*_buttons\\.css.*layer\\(components\\)"
---

<objective>
Extract button component CSS from design-tokens into dedicated component file

Purpose: Create the first proper component in the `components/` layer with all Bootstrap-standard button variants (primary, secondary, success, danger, warning, info, light, dark), 3 sizes (sm, md, lg), and complete state handling (hover, active, focus, disabled) that works correctly in both dark and light modes.

Output: `app/static/css/components/_buttons.css` imported into `main.css` via `@layer components`
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-component-library/02-RESEARCH.md

## Phase Context (User Decisions)

**Button Requirements:**
- Variants: Full Bootstrap (primary, secondary, success, danger, warning, info, light, dark)
- Sizes: 3 sizes (sm, md/default, lg)
- States: Complete (hover, active, focus, disabled)
- Outline variants for all colors

**Elevation System:**
- Buttons live on "elevated" or "surface" level
- Background: bg-button (15% dark / 100% light)
- Use CSS custom properties for theme-awareness

**Key Design Tokens Available:**
```css
--amber-55: hsl(45 95% 55%);  /* Primary accent */
--amber-60: hsl(45 90% 60%);  /* Primary hover */
--semantic-success: hsl(145 65% 40%);
--semantic-danger: hsl(0 70% 50%);
--bg-button: hsl(0 0% 15%);  /* dark mode */
--bg-button: hsl(0 0% 100%); /* light mode */
--border: hsl(0 0% 30%);     /* dark mode */
--border: hsl(0 0% 80%);     /* light mode */
--radius-md: 0.5rem;
```

## Reference Files
@app/static/css/tokens/_design-tokens.css (lines 182-287 contain current button styles)
@app/static/css/main.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create _buttons.css component file</name>
  <files>app/static/css/components/_buttons.css</files>
  <action>
Create `app/static/css/components/_buttons.css` with the following structure:

1. **File header comment** explaining the component

2. **@layer components wrapper** - all styles inside this layer

3. **Base button styles** (.btn):
   - CSS custom property API (--_btn-bg, --_btn-color, --_btn-border, etc.)
   - Use design tokens: var(--bg-button), var(--text), var(--border)
   - Display: inline-flex, align-items: center, justify-content: center, gap: 0.5rem
   - Padding: 0.375rem 0.75rem (default)
   - Font: font-weight: 600
   - Border: 1px solid var(--_btn-border)
   - Border-radius: var(--radius-md)
   - Transition: all 0.15s ease
   - cursor: pointer

4. **Size variants** (.btn-sm, .btn-lg):
   - .btn-sm: padding 0.25rem 0.5rem, font-size 0.875rem
   - .btn-lg: padding 0.5rem 1rem, font-size 1.125rem

5. **Color variants** - ALL 8 Bootstrap colors:
   - .btn-primary: --_btn-bg: var(--amber-55), --_btn-color: hsl(0 0% 10%), border transparent
   - .btn-secondary: --_btn-bg: var(--bg-button), --_btn-color: var(--text), border var(--border)
   - .btn-success: --_btn-bg: var(--semantic-success), --_btn-color: white, border transparent
   - .btn-danger: --_btn-bg: var(--semantic-danger), --_btn-color: white, border transparent
   - .btn-warning: --_btn-bg: var(--amber-50), --_btn-color: hsl(0 0% 10%), border transparent
   - .btn-info: --_btn-bg: hsl(0 0% 45%), --_btn-color: white, border transparent
   - .btn-light: --_btn-bg: var(--bg-light), --_btn-color: var(--text), border var(--border)
   - .btn-dark: --_btn-bg: hsl(0 0% 20%), --_btn-color: hsl(0 0% 95%), border transparent

6. **Outline variants** (.btn-outline-*):
   - All 8 colors with: background transparent, color from semantic color, border 1px solid currentColor
   - Hover: fill background with color, text inverts to contrasting color

7. **Link variant** (.btn-link):
   - background: transparent, border: none, color: var(--bs-link-color)
   - Underline on hover

8. **States** using :where() for easy override:
   - :where(:hover:not(:disabled)) - filter: brightness(1.1)
   - :where(:focus-visible) - outline: 2px solid var(--amber-55), outline-offset: 2px
   - :where(:active:not(:disabled)) - transform: translateY(1px)
   - :where(:disabled) - opacity: 0.65, cursor: not-allowed

9. **Primary/Secondary special hover effects**:
   - .btn-primary:hover - box-shadow: 0 0 6px 1px hsla(50 100% 55% / 0.7)
   - .btn-secondary:hover - border-color: var(--amber-50), box-shadow glow

**CRITICAL:** Do NOT use !important. The layer system handles specificity.
  </action>
  <verify>
Run: `cat app/static/css/components/_buttons.css | head -50` to verify structure
Run: `grep -c "\.btn" app/static/css/components/_buttons.css` should return 20+ matches
Run: `grep "!important" app/static/css/components/_buttons.css` should return 0 matches
  </verify>
  <done>
_buttons.css exists with all 8 color variants, 3 sizes, outline variants, and complete state handling, no !important declarations
  </done>
</task>

<task type="auto">
  <name>Task 2: Import buttons into main.css</name>
  <files>app/static/css/main.css</files>
  <action>
Edit `app/static/css/main.css` to uncomment/add the buttons import.

Find the commented line:
```css
/* Components - Reusable UI patterns (Phase 2)
   @import url('./components/_buttons.css') layer(components);
```

Replace with active import:
```css
/* Components - Reusable UI patterns */
@import url('./components/_buttons.css') layer(components);
```

Ensure the import is placed in the Components section, after base imports and before utilities.
  </action>
  <verify>
Run: `grep "_buttons.css" app/static/css/main.css` - should show uncommented import line
Run: `grep -A1 "Components" app/static/css/main.css` - should show the import statement
  </verify>
  <done>
main.css imports _buttons.css in the components layer, properly positioned in import order
  </done>
</task>

<task type="auto">
  <name>Task 3: Remove button styles from _design-tokens.css</name>
  <files>app/static/css/tokens/_design-tokens.css</files>
  <action>
In `app/static/css/tokens/_design-tokens.css`, remove the entire COMPONENTES - BOTOES section (lines ~182-287).

This section starts with the comment:
```css
/* ═══════════════════════════════════════════════════════════════════════════
   COMPONENTES - BOTÕES
```

And ends before the COMPONENTES - CARDS section.

**Keep** the design tokens (colors, spacing, typography) - only remove the component styles.

**Why:** Button styles are now in components layer with higher specificity. Keeping them in tokens would create duplicates.
  </action>
  <verify>
Run: `grep -n "COMPONENTES - BOTÕES" app/static/css/tokens/_design-tokens.css` - should return nothing
Run: `grep -n "\.btn-primary" app/static/css/tokens/_design-tokens.css` - should return nothing
Run: `grep -n "COMPONENTES - CARDS" app/static/css/tokens/_design-tokens.css` - should still exist (not deleted)
  </verify>
  <done>
Button component styles removed from _design-tokens.css, design tokens preserved
  </done>
</task>

</tasks>

<verification>
1. **File structure**: `app/static/css/components/_buttons.css` exists and is imported in main.css
2. **No duplicates**: Button styles exist ONLY in _buttons.css, not in _design-tokens.css
3. **Layer correct**: Import uses `layer(components)` syntax
4. **No !important**: Zero !important declarations in _buttons.css
5. **All variants**: 8 color variants + 8 outline variants + 3 sizes
</verification>

<success_criteria>
- [ ] _buttons.css has 120+ lines with complete button component
- [ ] main.css imports _buttons.css in components layer
- [ ] _design-tokens.css no longer has button component styles
- [ ] Zero !important declarations in new component file
- [ ] All 8 Bootstrap button colors have filled and outline variants
</success_criteria>

<output>
After completion, create `.planning/phases/02-component-library/02-01-SUMMARY.md`
</output>
