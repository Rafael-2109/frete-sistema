# üöÄ SISTEMA DE FRETES - REQUIREMENTS PRINCIPAL
# Vers√£o corrigida para Python 3.12 (compatibilidade m√°xima)
# Atualizado: 26/08/2025

# ==========================================
# CORE FRAMEWORK
# ==========================================
Flask==3.1.0
Flask-SQLAlchemy==3.1.1
Flask-Login==0.6.3
Flask-Migrate==4.1.0
Flask-Session==0.8.0
Flask-WTF==1.2.2
WTForms==3.2.1

# ==========================================
# DATABASE & DATA PROCESSING
# ==========================================
psycopg2-binary==2.9.10
pandas==2.2.3
openpyxl==3.1.5
xlrd==2.0.1
xlwt==1.3.0
python-dateutil==2.9.0.post0
pytz==2025.2
requests==2.32.3

# ==========================================
# CLOUD & DEPLOYMENT
# ==========================================
gunicorn==23.0.0  # Atualizado para melhor compatibilidade
greenlet==3.1.1  # CR√çTICO: Vers√£o 3.1+ para Python 3.12+
gevent==24.11.1  # Atualizado para compatibilidade com greenlet
boto3==1.35.0
python-dotenv==1.1.0
psutil==5.9.6

# ==========================================
# CACHE & PERFORMANCE
# ==========================================
redis==5.0.8
rq==1.16.2  # Atualizado para melhor estabilidade
rq-dashboard==0.6.1
APScheduler==3.11.0

# ==========================================
# VALIDATION
# ==========================================
dnspython==2.7.0
email-validator==2.2.0

# ==========================================
# AI & CLAUDE INTEGRATION
# ==========================================
anthropic==0.54.0
mcp==1.10.0
pydantic==2.11.7
anyio==4.9.0

# ==========================================
# NLP PARA MELHOR ENTENDIMENTO
# ==========================================
# IMPORTANTE: Substituindo python-Levenshtein por alternativas compat√≠veis
fuzzywuzzy==0.18.0
rapidfuzz==3.10.1  # NOVO: Substitui python-Levenshtein, mais r√°pido e compat√≠vel
# python-Levenshtein-wheels==0.13.2  # Alternativa se precisar manter Levenshtein
unidecode==1.4.0

# NLTK Simplificado (apenas o essencial)
nltk==3.8.1

# Fuzzy matching adicional
jellyfish==1.1.0

# SpaCy - Processamento Avan√ßado (opcional)
# spacy==3.7.4
# Ap√≥s instalar: python -m spacy download pt_core_news_sm

# ==========================================
# LOGGING & MONITORING
# ==========================================
structlog==24.4.0  # Atualizado
colorlog==6.8.2  # Atualizado
python-json-logger==2.0.7

# ==========================================
# SECURITY & AUTH
# ==========================================
PyJWT==2.8.0
cryptography==43.0.3  # Atualizado para seguran√ßa
python-jose[cryptography]==3.3.0

# ==========================================
# API & ASYNC
# ==========================================
fastapi==0.115.5
uvicorn[standard]==0.32.1
python-multipart==0.0.14
httpx==0.28.1
aioredis==2.0.1

# ==========================================
# FILE PROCESSING
# ==========================================
xlsxwriter==3.2.5
extract-msg==0.45.0  # Para arquivos .msg do Outlook

# ==========================================
# PDF PROCESSING
# ==========================================
# IMPORTANTE: Usar apenas uma biblioteca PDF principal
pypdf==5.1.0  # Principal, mais atualizada
# PyPDF2==3.0.1  # Removido - pypdf √© o sucessor
pdfplumber==0.11.7  # Para extra√ß√£o avan√ßada de tabelas

# ==========================================
# PORTAL INTEGRATION - BROWSER AUTOMATION
# ==========================================
# Op√ß√£o 1: Selenium (Chrome Debug Mode - RECOMENDADO)
selenium==4.27.1  # Atualizado para √∫ltima vers√£o est√°vel
webdriver-manager==4.0.2  # Atualizado

# Op√ß√£o 2: Playwright (alternativa moderna)
playwright==1.49.0  # Atualizado para √∫ltima vers√£o
nest-asyncio==1.6.0  # Para Playwright Sync em loop asyncio

# ==========================================
# NOTAS IMPORTANTES
# ==========================================
# 1. Use Python 3.12.x no Render (crie arquivo runtime.txt com: python-3.12.7)
# 2. Principais mudan√ßas:
#    - greenlet>=3.1.1 (cr√≠tico para Python 3.12+)
#    - rapidfuzz ao inv√©s de python-Levenshtein
#    - Vers√µes atualizadas de gunicorn, cryptography
#    - Removido PyPDF2 em favor de pypdf
# 3. Se ainda houver problemas com Levenshtein, use:
#    pip install python-Levenshtein-wheels