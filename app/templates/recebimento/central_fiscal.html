{% extends "base.html" %}

{% block title %}Central Fiscal{% endblock %}

{% block extra_css %}
<style>
/* Central Fiscal - Hub com Cards */
.fiscal-dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 1.5rem;
    margin-top: 2rem;
}

.fin-section-card {
    background: var(--bg-light, #1a1a2e);
    border-radius: 12px;
    padding: 1.5rem;
    border: 1px solid var(--border, rgba(255,255,255,0.1));
}

.fin-section-card__header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1.25rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid var(--border, rgba(255,255,255,0.1));
}

.fin-section-card__icon {
    width: 42px;
    height: 42px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.25rem;
}

.fin-section-card__title {
    font-size: 1.1rem;
    font-weight: 600;
    margin: 0;
    color: var(--text, #fff);
}

.fin-section-card__desc {
    font-size: 0.85rem;
    color: var(--text-muted, #888);
    margin: 0;
}

.fin-section-links {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.fin-section-link {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    border-radius: 8px;
    background: var(--bg, #0f0f1a);
    color: var(--text, #fff);
    text-decoration: none;
    transition: all 0.2s ease;
    border: 1px solid transparent;
}

.fin-section-link:hover {
    background: var(--amber-50, #fffbeb);
    color: var(--amber-700, #b45309);
    border-color: var(--amber-200, #fde68a);
    transform: translateX(4px);
}

.fin-section-link__icon {
    width: 32px;
    height: 32px;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255,255,255,0.05);
    font-size: 0.9rem;
}

.fin-section-link__text {
    flex: 1;
}

.fin-section-link__title {
    font-weight: 500;
    font-size: 0.95rem;
}

.fin-section-link__subtitle {
    font-size: 0.75rem;
    opacity: 0.7;
}

/* Dark mode adjustments */
[data-bs-theme="light"] .fin-section-card {
    background: #fff;
    border-color: #e5e7eb;
}

[data-bs-theme="light"] .fin-section-link {
    background: #f9fafb;
}

[data-bs-theme="light"] .fin-section-link:hover {
    background: var(--amber-50, #fffbeb);
}
</style>
{% endblock %}

{% block content %}
<div class="fin-container premium-page">
    <!-- Header -->
    <header class="fin-header reveal">
        <div class="fin-header__content">
            <h1 class="fin-header__title">
                <i class="fas fa-file-invoice"></i>
                Central Fiscal
            </h1>
            <p class="fin-header__subtitle">
                Validacoes fiscais, cadastros IBS/CBS e relatorios de documentos
            </p>
        </div>
        <div class="fin-header__actions">
            <a href="{{ url_for('main.dashboard') }}" class="btn btn-outline-light btn-sm">
                <i class="fas fa-arrow-left"></i> Voltar
            </a>
        </div>
    </header>

    <!-- Grid de Cards -->
    <div class="fiscal-dashboard-grid">

        <!-- VALIDACAO DE COMPRAS (Fase 1 - Fiscal) -->
        <div class="fin-section-card">
            <div class="fin-section-card__header">
                <div class="fin-section-card__icon" style="background: linear-gradient(135deg, #fef3c7, #fde68a); color: #b45309;">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <div>
                    <h3 class="fin-section-card__title">Validacao de Compras</h3>
                    <p class="fin-section-card__desc">Divergencias fiscais, primeira compra e perfis tributarios</p>
                </div>
            </div>
            <div class="fin-section-links">
                <a href="{{ url_for('recebimento_views.divergencias') }}" class="fin-section-link">
                    <div class="fin-section-link__icon">
                        <i class="fas fa-exclamation-triangle text-warning"></i>
                    </div>
                    <div class="fin-section-link__text">
                        <div class="fin-section-link__title">Divergencias Fiscais</div>
                        <div class="fin-section-link__subtitle">Notas com divergencias tributarias</div>
                    </div>
                </a>
                <a href="{{ url_for('recebimento_views.primeira_compra') }}" class="fin-section-link">
                    <div class="fin-section-link__icon">
                        <i class="fas fa-clipboard-check text-info"></i>
                    </div>
                    <div class="fin-section-link__text">
                        <div class="fin-section-link__title">Primeira Compra</div>
                        <div class="fin-section-link__subtitle">Validacao de novos fornecedores</div>
                    </div>
                </a>
                <a href="{{ url_for('recebimento_views.perfis_fiscais') }}" class="fin-section-link">
                    <div class="fin-section-link__icon">
                        <i class="fas fa-id-card text-primary"></i>
                    </div>
                    <div class="fin-section-link__text">
                        <div class="fin-section-link__title">Perfis Fiscais</div>
                        <div class="fin-section-link__subtitle">Perfil tributario por produto/fornecedor</div>
                    </div>
                </a>
            </div>
        </div>

        <!-- VALIDACAO IBS/CBS -->
        <div class="fin-section-card">
            <div class="fin-section-card__header">
                <div class="fin-section-card__icon" style="background: linear-gradient(135deg, #d1fae5, #a7f3d0); color: #059669;">
                    <i class="fas fa-list-ol"></i>
                </div>
                <div>
                    <h3 class="fin-section-card__title">Validacao IBS/CBS</h3>
                    <p class="fin-section-card__desc">Cadastro de NCMs e pendencias da reforma tributaria</p>
                </div>
            </div>
            <div class="fin-section-links">
                <a href="{{ url_for('recebimento_views.ncm_ibscbs') }}" class="fin-section-link">
                    <div class="fin-section-link__icon">
                        <i class="fas fa-list-ol text-success"></i>
                    </div>
                    <div class="fin-section-link__text">
                        <div class="fin-section-link__title">Cadastro NCM IBS/CBS</div>
                        <div class="fin-section-link__subtitle">Mapeamento de aliquotas por NCM</div>
                    </div>
                </a>
                <a href="{{ url_for('recebimento_views.pendencias_ibscbs') }}" class="fin-section-link">
                    <div class="fin-section-link__icon">
                        <i class="fas fa-clipboard-list text-warning"></i>
                    </div>
                    <div class="fin-section-link__text">
                        <div class="fin-section-link__title">Pendencias IBS/CBS</div>
                        <div class="fin-section-link__subtitle">NCMs sem cadastro IBS/CBS</div>
                    </div>
                </a>
            </div>
        </div>

        <!-- RELATORIOS -->
        <div class="fin-section-card">
            <div class="fin-section-card__header">
                <div class="fin-section-card__icon" style="background: linear-gradient(135deg, #dbeafe, #bfdbfe); color: #2563eb;">
                    <i class="fas fa-chart-bar"></i>
                </div>
                <div>
                    <h3 class="fin-section-card__title">Relatorios</h3>
                    <p class="fin-section-card__desc">Documentos fiscais e relatorios tributarios</p>
                </div>
            </div>
            <div class="fin-section-links">
                <a href="{{ url_for('relatorios_fiscais.pagina_relatorio_ibscbs') }}" class="fin-section-link">
                    <div class="fin-section-link__icon">
                        <i class="fas fa-file-invoice text-info"></i>
                    </div>
                    <div class="fin-section-link__text">
                        <div class="fin-section-link__title">Documentos Fiscais</div>
                        <div class="fin-section-link__subtitle">Relatorio de NFs com campos IBS/CBS</div>
                    </div>
                </a>
            </div>
        </div>

    </div>
</div>
{% endblock %}
