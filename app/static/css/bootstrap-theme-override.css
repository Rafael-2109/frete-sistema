/**
 * Bootstrap Theme Override
 *
 * Este arquivo DEVE ficar FORA do layer system (@layer) porque precisa
 * sobrescrever as variáveis do Bootstrap CDN que também está fora de layers.
 *
 * CSS fora de layers tem prioridade sobre CSS dentro de layers (CSS spec).
 *
 * Carregado LOGO APÓS o Bootstrap CDN no base.html.
 */

/* ═══════════════════════════════════════════════════════════════════════════
   DARK MODE (Padrão) - Override Bootstrap
   Hierarquia de elevação: body 0% → surfaces 5% → cards 10%
   ═══════════════════════════════════════════════════════════════════════════ */

[data-bs-theme="dark"],
[data-theme="dark"] {
    /* Core backgrounds - override Bootstrap's #212529 */
    --bs-body-bg: hsl(0 0% 0%);
    --bs-body-color: hsl(0 0% 95%);
    --bs-secondary-bg: hsl(0 0% 10%);
    --bs-tertiary-bg: hsl(0 0% 10%);
    --bs-border-color: hsl(0 0% 30%);
    --bs-secondary-color: hsl(0 0% 70%);

    /* Card backgrounds */
    --bs-card-bg: hsl(0 0% 5%);
    --bs-card-cap-bg: transparent;  /* card-header igual ao card body */
    --bs-card-border-color: hsl(0 0% 30%);

    /* Table backgrounds */
    --bs-table-bg: hsl(0 0% 10%);
    --bs-table-color: hsl(0 0% 95%);
    --bs-table-border-color: hsl(0 0% 30%);
    --bs-table-striped-bg: hsl(0 0% 8%);
    --bs-table-hover-bg: var(--hover-bg);

    /* Input backgrounds */
    --bs-form-control-bg: hsl(0 0% 10%);

    /* Modal backgrounds */
    --bs-modal-bg: hsl(0 0% 5%);

    /* Dropdown backgrounds */
    --bs-dropdown-bg: hsl(0 0% 5%);
    --bs-dropdown-border-color: hsl(0 0% 30%);
    --bs-dropdown-link-color: hsl(0 0% 95%);
    --bs-dropdown-link-hover-bg: hsl(0 0% 10%);

    /* Primary colors */
    --bs-primary: hsl(45 95% 55%);
    --bs-primary-rgb: 255, 212, 38;
    --bs-success: hsl(145 65% 40%);
    --bs-success-rgb: 34, 197, 94;
    --bs-danger: hsl(0 70% 50%);
    --bs-danger-rgb: 239, 68, 68;
    --bs-warning: hsl(45 100% 50%);
    --bs-warning-rgb: 255, 200, 0;
    --bs-link-color: hsl(45 95% 55%);

    color-scheme: dark;
}

/* ═══════════════════════════════════════════════════════════════════════════
   LIGHT MODE - Override Bootstrap
   Hierarquia de elevação: body 95% → surfaces 98% → cards 100%
   ═══════════════════════════════════════════════════════════════════════════ */

[data-bs-theme="light"],
[data-theme="light"] {
    /* Core backgrounds - hierarquia sutil
       Body 95% (levemente cinza) → Cards 100% (branco) */
    --bs-body-bg: hsl(0 0% 95%);
    --bs-body-color: hsl(0 0% 10%);
    --bs-secondary-bg: hsl(0 0% 100%);
    --bs-tertiary-bg: hsl(0 0% 100%);
    --bs-border-color: hsl(0 0% 85%);
    --bs-secondary-color: hsl(0 0% 40%);

    /* Card backgrounds - elevated (white) */
    --bs-card-bg: hsl(0 0% 100%);
    --bs-card-cap-bg: transparent;  /* card-header igual ao card body */
    --bs-card-border-color: hsl(0 0% 88%);

    /* Table backgrounds */
    --bs-table-bg: hsl(0 0% 100%);
    --bs-table-color: hsl(0 0% 10%);
    --bs-table-border-color: hsl(0 0% 88%);
    --bs-table-striped-bg: hsl(0 0% 98%);
    --bs-table-hover-bg: var(--hover-bg);

    /* Input backgrounds */
    --bs-form-control-bg: hsl(0 0% 100%);

    /* Modal backgrounds */
    --bs-modal-bg: hsl(0 0% 100%);

    /* Dropdown backgrounds */
    --bs-dropdown-bg: hsl(0 0% 100%);
    --bs-dropdown-border-color: hsl(0 0% 85%);
    --bs-dropdown-link-color: hsl(0 0% 5%);
    --bs-dropdown-link-hover-bg: hsl(0 0% 95%);

    /* Primary colors - darker for better contrast */
    --bs-primary: hsl(45 100% 50%);
    --bs-primary-rgb: 255, 204, 0;
    --bs-success: hsl(145 70% 32%);
    --bs-success-rgb: 34, 139, 84;
    --bs-danger: hsl(0 75% 45%);
    --bs-danger-rgb: 200, 57, 57;
    --bs-warning: hsl(45 100% 50%);
    --bs-warning-rgb: 255, 193, 7;
    --bs-link-color: hsl(45 100% 28%);

    color-scheme: light;
}

/* ═══════════════════════════════════════════════════════════════════════════
   TABLE HOVER — Desativa o mecanismo interno do Bootstrap (background-image)
   para que apenas o nosso hover (background-color via --hover-bg) atue.
   Precisa estar FORA de @layer para vencer o CDN do Bootstrap.
   ═══════════════════════════════════════════════════════════════════════════ */

.table-hover > tbody > tr:hover > * {
    --bs-table-bg-state: transparent;
}

/* ═══════════════════════════════════════════════════════════════════════════
   BODY STYLING - Apply background
   ═══════════════════════════════════════════════════════════════════════════ */

body {
    background-color: var(--bs-body-bg) !important;
    color: var(--bs-body-color);
}

/* ═══════════════════════════════════════════════════════════════════════════
   BADGE OVERRIDES - Bootstrap usa color: #fff fixo que não adapta ao tema
   Badges centralizados em components/_badges.css (layer system).
   Aqui ficam APENAS overrides que precisam estar fora de layers para
   vencer o Bootstrap CDN (que também está fora de layers).
   ═══════════════════════════════════════════════════════════════════════════ */

/* Base badge - usa custom property API do layer system, fallback para inherit */
.badge {
    color: var(--_badge-color, inherit);
}

/* Badges com fundo colorido - texto escuro para contraste */
.badge.bg-primary,
.badge.bg-warning {
    color: hsl(0 0% 10%) !important;
}

/* Badges com fundo escuro - texto claro */
.badge.bg-secondary,
.badge.bg-success,
.badge.bg-danger,
.badge.bg-info {
    color: hsl(0 0% 100%) !important;
}

/* Badge light - adapta ao tema */
.badge.bg-light {
    color: var(--bs-body-color) !important;
    background-color: var(--bs-secondary-bg) !important;
    border: 1px solid var(--bs-border-color);
}

/* Light mode: ajustar success/info para melhor contraste */
[data-bs-theme="light"] .badge.bg-success,
[data-theme="light"] .badge.bg-success {
    background-color: hsl(145 65% 35%) !important;
}

[data-bs-theme="light"] .badge.bg-info,
[data-theme="light"] .badge.bg-info {
    background-color: hsl(0 0% 40%) !important;
}

[data-bs-theme="light"] .badge.bg-dark,
[data-theme="light"] .badge.bg-dark {
    background-color: hsl(0 0% 25%) !important;
}

/* ═══════════════════════════════════════════════════════════════════════════
   TEXT UTILITIES - Cores de texto que precisam adaptar ao tema
   ═══════════════════════════════════════════════════════════════════════════ */

/* Accent text - amarelo claro no dark, amarelo escuro no light */
.text-accent {
    color: hsl(45 95% 55%);
}

[data-bs-theme="light"] .text-accent,
[data-theme="light"] .text-accent {
    color: hsl(45 100% 28%) !important;  /* Amarelo escuro para contraste */
}

/* Muted text - adaptar ao tema */
[data-bs-theme="light"] .text-muted,
[data-theme="light"] .text-muted {
    color: hsl(0 0% 45%) !important;
}

/* Bootstrap text colors - garantir contraste no light mode */
[data-bs-theme="light"] .text-primary,
[data-theme="light"] .text-primary {
    color: hsl(45 100% 28%) !important;  /* Amarelo escuro */
}

[data-bs-theme="light"] .text-success,
[data-theme="light"] .text-success {
    color: hsl(145 70% 28%) !important;  /* Verde escuro */
}

[data-bs-theme="light"] .text-warning,
[data-theme="light"] .text-warning {
    color: hsl(45 100% 30%) !important;  /* Amarelo/laranja escuro */
}

[data-bs-theme="light"] .text-info,
[data-theme="light"] .text-info {
    color: hsl(0 0% 35%) !important;  /* Cinza escuro */
}

/* ═══════════════════════════════════════════════════════════════════════════
   BUTTON PRIMARY - Garantir texto legível em light mode
   Bootstrap btn-primary usa fundo azul #0d6efd - precisa de texto branco
   ═══════════════════════════════════════════════════════════════════════════ */

/* Light mode: botões primários com texto branco para contraste */
[data-bs-theme="light"] .btn-primary,
[data-theme="light"] .btn-primary {
    color: hsl(0 0% 100%) !important;
}

[data-bs-theme="light"] .btn-primary:hover,
[data-theme="light"] .btn-primary:hover,
[data-bs-theme="light"] .btn-primary:focus,
[data-theme="light"] .btn-primary:focus {
    color: hsl(0 0% 100%) !important;
}
