/**
 * _portal.css - Portal Module Overrides
 *
 * Component overrides specific to the portal module.
 * Includes Sendas, Atacadao, and Tenda submodules.
 *
 * Token mapping:
 * - #fff, white -> var(--bg-light)
 * - #f8f9fa -> var(--bg)
 * - #e9ecef -> var(--bg-dark)
 * - #212529, #333 -> var(--text)
 * - #6c757d, #666, #999 -> var(--text-muted)
 * - #dee2e6, #ddd, #f0f0f0 -> var(--border)
 * - #28a745, #218838 -> var(--semantic-success)
 * - #dc3545 -> var(--semantic-danger)
 * - #ffc107 -> var(--amber-50)
 * - #007bff -> var(--accent)
 *
 * Note: Portal submodules share common patterns. Brand-specific colors
 * (Sendas, Atacadao, Tenda) are migrated to design system tokens rather
 * than preserving brand colors - this ensures consistent dark mode support.
 */

@layer modules {

  /* ═══════════════════════════════════════════════════════════════════════════
     PORTAL MODULE - Common patterns across Sendas/Atacadao/Tenda
     Templates: 32 total
     ═══════════════════════════════════════════════════════════════════════════ */

  /* ----------------------------------
     Upload/Drag-Drop Areas
     ---------------------------------- */
  .upload-area {
    border: 2px dashed var(--accent);
    border-radius: 8px;
    padding: 40px;
    text-align: center;
    background: var(--bg);
    cursor: pointer;
    transition: all 0.3s;
  }

  .upload-area:hover {
    background: var(--bg-dark);
    border-color: var(--accent);
  }

  .upload-area.dragging {
    background: hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.15);
    border-color: var(--accent);
  }

  /* ----------------------------------
     Status Badges (Portal-specific)
     ---------------------------------- */
  .portal-status-badge {
    padding: 5px 10px;
    border-radius: 4px;
    font-size: 0.875em;
    font-weight: bold;
  }

  .status-confirmado {
    background: hsla(var(--semantic-success-h), var(--semantic-success-s), var(--semantic-success-l), 0.2);
    color: var(--semantic-success);
  }

  .status-pendente {
    background: hsla(var(--amber-h), var(--amber-s), 50%, 0.2);
    color: var(--amber-50);
  }

  .status-nao-encontrado {
    background: hsla(var(--semantic-danger-h), var(--semantic-danger-s), var(--semantic-danger-l), 0.2);
    color: var(--semantic-danger);
  }

  .status-divergencia {
    background: hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.15);
    color: var(--accent);
  }

  .status-exportado {
    background: hsla(var(--semantic-success-h), var(--semantic-success-s), var(--semantic-success-l), 0.2);
    color: var(--semantic-success);
  }

  /* Dark mode adjustments */
  [data-bs-theme="dark"] .status-confirmado,
  [data-bs-theme="dark"] .status-exportado {
    background: hsla(var(--semantic-success-h), var(--semantic-success-s), var(--semantic-success-l), 0.25);
  }

  [data-bs-theme="dark"] .status-pendente {
    background: hsla(var(--amber-h), var(--amber-s), 50%, 0.25);
  }

  [data-bs-theme="dark"] .status-nao-encontrado {
    background: hsla(var(--semantic-danger-h), var(--semantic-danger-s), var(--semantic-danger-l), 0.25);
  }

  [data-bs-theme="dark"] .status-divergencia {
    background: hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.2);
  }

  /* ----------------------------------
     Summary Cards
     ---------------------------------- */
  .summary-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin: 20px 0;
  }

  .summary-card {
    background: var(--bg-light);
    border-radius: 8px;
    padding: 15px;
    box-shadow: 0 2px 4px hsla(0, 0%, 0%, 0.1);
  }

  .summary-card h6 {
    margin: 0 0 10px 0;
    color: var(--text-muted);
  }

  .summary-card .count {
    font-size: 2em;
    font-weight: bold;
  }

  .summary-card.summary-success {
    background: hsla(var(--semantic-success-h), var(--semantic-success-s), var(--semantic-success-l), 0.15);
  }

  .summary-card.summary-danger {
    background: hsla(var(--semantic-danger-h), var(--semantic-danger-s), var(--semantic-danger-l), 0.15);
  }

  .summary-card.summary-warning {
    background: hsla(var(--amber-h), var(--amber-s), 50%, 0.15);
  }

  .summary-card.summary-muted {
    background: var(--bg-dark);
  }

  /* ----------------------------------
     Export Cards (Sendas exportacao)
     ---------------------------------- */
  .export-card {
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 15px;
    background: var(--bg-light);
    box-shadow: 0 2px 4px hsla(0, 0%, 0%, 0.1);
  }

  .export-card:hover {
    box-shadow: 0 4px 8px hsla(0, 0%, 0%, 0.15);
  }

  .export-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
  }

  .protocol-badge {
    background: var(--accent);
    color: var(--bg-light);
    padding: 5px 10px;
    border-radius: 4px;
    font-weight: bold;
  }

  .info-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 5px;
    padding: 5px 0;
    border-bottom: 1px solid var(--border);
  }

  .info-label {
    font-weight: 600;
    color: var(--text-muted);
  }

  .info-value {
    color: var(--text);
  }

  /* ----------------------------------
     Export Buttons
     ---------------------------------- */
  .btn-export {
    background: var(--semantic-success);
    color: var(--bg-light);
    border: none;
    padding: 8px 15px;
    border-radius: 4px;
    cursor: pointer;
    transition: filter 0.2s;
  }

  .btn-export:hover {
    filter: brightness(0.9);
  }

  .btn-reprocess {
    background: var(--amber-50);
    color: var(--text);
    border: none;
    padding: 8px 15px;
    border-radius: 4px;
    cursor: pointer;
    margin-left: 5px;
    transition: filter 0.2s;
  }

  .btn-reprocess:hover {
    filter: brightness(0.9);
  }

  /* ----------------------------------
     Empty State
     ---------------------------------- */
  .empty-state {
    text-align: center;
    padding: 40px;
    color: var(--text-muted);
  }

  /* ----------------------------------
     Divergence Info Box
     ---------------------------------- */
  .divergencia-info {
    background: hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.1);
    border: 1px solid hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.3);
    padding: 10px;
    border-radius: 4px;
    margin: 10px 0;
  }

  /* ----------------------------------
     Session Status Cards (Sendas gerenciar_sessao)
     ---------------------------------- */
  .status-card {
    border-radius: 10px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 2px 4px hsla(0, 0%, 0%, 0.1);
  }

  .status-valid {
    background: linear-gradient(135deg, hsl(235, 72%, 66%) 0%, hsl(281, 44%, 46%) 100%);
    color: var(--bg-light);
  }

  .status-invalid {
    background: linear-gradient(135deg, hsl(305, 85%, 78%) 0%, hsl(354, 89%, 66%) 100%);
    color: var(--bg-light);
  }

  .status-none {
    background: linear-gradient(135deg, hsl(174, 62%, 79%) 0%, hsl(335, 91%, 92%) 100%);
    color: var(--text);
  }

  .token-info {
    background: var(--bg);
    border-radius: 8px;
    padding: 15px;
    margin-top: 15px;
    font-family: monospace;
    font-size: 0.9em;
  }

  /* ----------------------------------
     History Items
     ---------------------------------- */
  .history-item {
    padding: 10px;
    border-left: 3px solid var(--border);
    margin-bottom: 10px;
  }

  .history-item.success {
    border-left-color: var(--semantic-success);
  }

  .history-item.error {
    border-left-color: var(--semantic-danger);
  }

  /* ----------------------------------
     Instructions Box
     ---------------------------------- */
  .instructions-box {
    background: hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.1);
    border: 1px solid hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.3);
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 20px;
  }

  /* ----------------------------------
     JS Log Container (sendas_sessao)
     ---------------------------------- */
  .portal-log-container {
    background: var(--bg);
    color: var(--text);
    padding: 1rem;
    border-radius: 0.5rem;
    height: 200px;
    overflow-y: auto;
  }

  [data-bs-theme="dark"] .portal-log-container {
    background: hsl(220, 13%, 10%);
  }

} /* End @layer modules */
